{
  "name": "COLMAP + Mesh (GPU/CPU)",
  "build": {
    "dockerfile": "Dockerfile",
    "context": ".."
  },
  "workspaceFolder": "/workspace",
  "workspaceMount": "source=${localWorkspaceFolder},target=/workspace,type=bind,consistency=cached",

  "runArgs": [
    "--gpus=all",
    "-e", "DISPLAY=${localEnv:DISPLAY}",
    "-e", "QT_X11_NO_MITSHM=1",
    "-v", "/tmp/.X11-unix:/tmp/.X11-unix",
    "-v", "/home/fourcanabdullah/Documents/south-building/images:/data/images:rw"
  ],

  "containerEnv": {
    "QT_QPA_PLATFORM": "xcb",
    "QT_PLUGIN_PATH": "",
    "WAYLAND_DISPLAY": ""
  },

  "postCreateCommand": "apt-get update && apt-get install -y libxcb-cursor0 libxkbcommon-x11-0 libxcb-xinerama0 libxcb-icccm4 libxcb-image0 libxcb-keysyms1 libxcb-render-util0 libgl1 libglu1-mesa mesa-utils xauth && pip install -r requirements.txt",

  "features": {
    "ghcr.io/devcontainers/features/common-utils:2": {}
  }
}


{
  "name": "COLMAP + Nerf (GPU)",
  "build": {
    "dockerfile": "Dockerfile",
    "context": ".."
  },
  "workspaceFolder": "/workspace",
  "workspaceMount": "source=${localWorkspaceFolder},target=/workspace,type=bind,consistency=cached",

"runArgs": [
  "--gpus=all",
  "-v", "/tmp/.X11-unix:/tmp/.X11-unix",
  "-v", "/mnt/wslg:/mnt/wslg",
  "--env=DISPLAY",
  "--env=WAYLAND_DISPLAY",
  "--env=XDG_RUNTIME_DIR",
  "--env=PULSE_SERVER"
],


  "mounts": [
    "type=bind,source=${localEnv:HOME},target=/hosthome,consistency=cached,readonly"
  ],

  "containerEnv": {
    "QT_QPA_PLATFORM_PLUGIN_PATH": "/opt/conda/envs/ns/lib/python3.10/site-packages/cv2/qt/plugins"
  },

  "postCreateCommand": "apt-get update && apt-get install -y libxcb-cursor0 libxkbcommon-x11-0 libxcb-xinerama0 libxcb-icccm4 libxcb-image0 libxcb-keysyms1 libxcb-render-util0 libgl1 libglu1-mesa mesa-utils xauth && pip install -r requirements.txt",

  "features": {
    "ghcr.io/devcontainers/features/common-utils:2": {}
  }
}

